# Valid example: using the 'secret' keyword correctly
# Demonstrates secret return types, secret parameters, and secret-typed locals.

# A function that returns a secret integer
proc gen_secret(): secret int64 =
  return 42

# A function that accepts a secret integer and returns a secret integer
proc add_secret(a: secret int64, b: secret int64): secret int64 =
  # Simple arithmetic on secret values is allowed
  return a + b

# Entry point
proc main() =
  # Obtain a secret value
  let s: secret int64 = gen_secret()

  # Work with secret values (no branching on secrets)
  let t: secret int64 = add_secret(s, 5)
  let u: secret int64 = add_secret(t, s)

  # You can still print cleartext messages; but avoid revealing secrets
  print("Secret computations performed successfully")
